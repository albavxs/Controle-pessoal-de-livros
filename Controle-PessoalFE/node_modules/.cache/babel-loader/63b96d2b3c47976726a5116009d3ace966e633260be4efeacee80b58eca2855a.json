{"ast":null,"code":"import{useState,useEffect}from\"react\";import{Chart}from\"react-google-charts\";import{inAxios}from\"../config_axios\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ResumoLivros=()=>{// return <h2>Resumo de Livros</h2>;\nconst[resumo,setResumo]=useState([]);const[grafico,setGrafico]=useState([]);const obterDados=async()=>{try{const dadosResumo=await inAxios.get(\"livros/dados/resumo\");setResumo(dadosResumo.data);const dadosGrafico=await inAxios.get(\"livros/dados/grafico\");// cria um array e adiciona a primeira linha\nconst arrayGrafico=[[\"Ano\",\"R$ Total\"]];//percorre cada linha do JSON e adiciona ao array\ndadosGrafico.data.map(dado=>arrayGrafico.push([dado.ano.toString(),dado.total]));setGrafico(arrayGrafico);}catch(error){alert(\"Erro... N\\xE3o foi poss\\xEDvel obter os dados: \".concat(error));}};// define o método que será executado assim que o componente for renderizado\nuseEffect(()=>{obterDados();},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"mt-3\",children:\"Resumo\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"btn btn-outline-primary btn-lg\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"badge bg-danger\",children:resumo.num}),/*#__PURE__*/_jsx(\"p\",{children:\"N de Livros cadastrados\"})]}),/*#__PURE__*/_jsxs(\"span\",{className:\"btn btn-outline-primary btn-lg mx2\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"badge bg-danger\",children:Number(resumo.soma).toLocaleString(\"pt-br\",{minimumFractionDigits:2})}),/*#__PURE__*/_jsx(\"p\",{children:\"Total Investido em Livros\"})]}),/*#__PURE__*/_jsxs(\"span\",{className:\"btn btn-outline-primary btn-lg me-2\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"badge bg-danger\",children:Number(resumo.maior).toLocaleString(\"pt-br\",{minimumFractionDigits:2})}),/*#__PURE__*/_jsx(\"p\",{children:\"Maior Pre\\xE7o Cadastrado\"})]}),/*#__PURE__*/_jsxs(\"span\",{className:\"btn btn-outline-primary btn-lg\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"badge bg-danger\",children:Number(resumo.media).toLocaleString(\"pt-br\",{minimumFractionDigits:2})}),/*#__PURE__*/_jsx(\"p\",{children:\"Pre\\xE7o M\\xE9dio dos Livros\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justfy-content-center\",children:/*#__PURE__*/_jsx(Chart,{width:1000,height:420,chartType:\"ColumnChart\",loader:/*#__PURE__*/_jsx(\"div\",{children:\"Carregando Gr\\xE1fico...\"}),data:grafico,options:{title:\"Total de Investimentos em Livros - por Ano de Publicação\",chartArea:{width:\"80%\"},hAxis:{title:\"Ano de Publicação\"},vAxis:{title:\"Preço Acumulado R$\"},legend:{position:\"none\"}}})})]});};export default ResumoLivros;","map":{"version":3,"names":["useState","useEffect","Chart","inAxios","jsx","_jsx","jsxs","_jsxs","ResumoLivros","resumo","setResumo","grafico","setGrafico","obterDados","dadosResumo","get","data","dadosGrafico","arrayGrafico","map","dado","push","ano","toString","total","error","alert","concat","className","children","num","Number","soma","toLocaleString","minimumFractionDigits","maior","media","width","height","chartType","loader","options","title","chartArea","hAxis","vAxis","legend","position"],"sources":["P:/projects/controle-pessoal-de-livros/Controle-PessoalFE/src/components/ResumoLivros.js"],"sourcesContent":["import {useState, useEffect } from \"react\";\r\nimport { Chart } from \"react-google-charts\";\r\nimport { inAxios } from \"../config_axios\";\r\n\r\nconst ResumoLivros = () => {\r\n    // return <h2>Resumo de Livros</h2>;\r\n    const [resumo, setResumo] = useState([]);\r\n    const [grafico, setGrafico] = useState([]);\r\n\r\n\r\n    const obterDados = async () => {\r\n        try {\r\n            const dadosResumo = await inAxios.get(\"livros/dados/resumo\");\r\n            setResumo(dadosResumo.data);\r\n            \r\n            const dadosGrafico = await inAxios.get(\"livros/dados/grafico\");\r\n            // cria um array e adiciona a primeira linha\r\n            const arrayGrafico = [[\"Ano\", \"R$ Total\"]];\r\n            //percorre cada linha do JSON e adiciona ao array\r\n            dadosGrafico.data.map((dado) => \r\n                arrayGrafico.push([dado.ano.toString(), dado.total])\r\n            );\r\n            setGrafico(arrayGrafico);\r\n        } catch(error) {\r\n            alert(`Erro... Não foi possível obter os dados: ${error}`);\r\n        }\r\n    };\r\n\r\n\r\n    // define o método que será executado assim que o componente for renderizado\r\n    useEffect(() => {\r\n        obterDados();\r\n    }, []);\r\n\r\n    return (\r\n        <div className=\"container\">\r\n            <h4 className=\"mt-3\">Resumo</h4>\r\n            <span className=\"btn btn-outline-primary btn-lg\">\r\n                <p className=\"badge bg-danger\">{resumo.num}</p>\r\n                <p>N de Livros cadastrados</p>\r\n            </span>\r\n            <span className=\"btn btn-outline-primary btn-lg mx2\">\r\n                <p className=\"badge bg-danger\">\r\n                    {Number(resumo.soma).toLocaleString(\"pt-br\", {minimumFractionDigits: 2})}\r\n                </p>\r\n                <p>Total Investido em Livros</p>\r\n            </span>\r\n            <span className=\"btn btn-outline-primary btn-lg me-2\">\r\n                <p className=\"badge bg-danger\">\r\n                {Number(resumo.maior).toLocaleString(\"pt-br\", {minimumFractionDigits: 2})}\r\n                </p>\r\n                <p>Maior Preço Cadastrado</p>\r\n            </span>\r\n            <span className=\"btn btn-outline-primary btn-lg\">\r\n                <p className=\"badge bg-danger\">\r\n                    {Number(resumo.media).toLocaleString(\"pt-br\", {minimumFractionDigits: 2})}\r\n                    </p>\r\n                    <p>Preço Médio dos Livros</p>\r\n            </span>\r\n\r\n\r\n            <div className=\"d-flex justfy-content-center\">\r\n                <Chart\r\n                width={1000}\r\n                height={420}\r\n                chartType=\"ColumnChart\"\r\n                loader={<div>Carregando Gráfico...</div>}\r\n                data={grafico}\r\n                options={{\r\n                    title: \"Total de Investimentos em Livros - por Ano de Publicação\",\r\n                    chartArea: { width: \"80%\" },\r\n                    hAxis: { title: \"Ano de Publicação\" },\r\n                    vAxis: {title: \"Preço Acumulado R$\" },\r\n                    legend: {position: \"none\"},\r\n            }}\r\n            />\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\nexport default ResumoLivros;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}