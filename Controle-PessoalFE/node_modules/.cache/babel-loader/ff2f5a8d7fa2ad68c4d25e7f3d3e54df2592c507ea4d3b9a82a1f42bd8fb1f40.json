{"ast":null,"code":"import{useState}from\"react\";import{useForm}from\"react-hook-form\";import{inAxios}from\"../config_axios\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const InclusaoLivros=()=>{const{register,handleSubmit,reset,formState:{errors}}=useForm();const[aviso,setAviso]=useState(\"\");const[carregando,setCarregando]=useState(false);const salvar=async campos=>{setCarregando(true);try{const response=await inAxios.post(\"livros\",campos);setAviso(\"Ok! Livro cadastrado com c\\xF3digo \".concat(response.data.id));}catch(error){setAviso(\"Erro... Livro n\\xE3o cadastrado: \".concat(error.message));}finally{setCarregando(false);}setTimeout(()=>{setAviso(\"\");},5000);reset({titulo:\"\",autor:\"\",foto:\"\",ano:\"\",preco:\"\"});};return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"fst-italic mt-3\",children:\"Inclus\\xE3o\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(salvar),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"titulo\",children:\"T\\xEDtulo:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"titulo\",required:true,autoFocus:true,...register(\"titulo\",{required:\"Título é obrigatório\"})}),errors.titulo&&/*#__PURE__*/_jsx(\"span\",{className:\"text-danger\",children:errors.titulo.message})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mt-2\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"autor\",children:\"Autor:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"autor\",required:true,...register(\"autor\",{required:\"Autor é obrigatório\"})}),errors.autor&&/*#__PURE__*/_jsx(\"span\",{className:\"text-danger\",children:errors.autor.message})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mt-2\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"foto\",children:\"URL da Foto:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"url\",className:\"form-control\",id:\"foto\",required:true,...register(\"foto\",{required:\"URL da foto é obrigatória\"})}),errors.foto&&/*#__PURE__*/_jsx(\"span\",{className:\"text-danger\",children:errors.foto.message})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row mt-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"ano\",children:\"Ano de Publica\\xE7\\xE3o:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"form-control\",id:\"ano\",required:true,...register(\"ano\",{required:\"Ano é obrigatório\"})}),errors.ano&&/*#__PURE__*/_jsx(\"span\",{className:\"text-danger\",children:errors.ano.message})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"preco\",children:\"Pre\\xE7o R$:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"form-control\",id:\"preco\",step:\"0.01\",required:true,...register(\"preco\",{required:\"Preço é obrigatório\"})}),errors.preco&&/*#__PURE__*/_jsx(\"span\",{className:\"text-danger\",children:errors.preco.message})]})})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary my-3\",disabled:carregando,children:carregando?\"Enviando...\":\"Enviar\"}),/*#__PURE__*/_jsx(\"button\",{type:\"reset\",className:\"btn btn-danger my-3 ms-3\",children:\"Limpar\"})]}),aviso&&/*#__PURE__*/_jsx(\"div\",{className:aviso.startsWith(\"Ok!\")?\"alert alert-success\":aviso.startsWith(\"Erro\")?\"alert alert-danger\":\"\",children:aviso})]});};export default InclusaoLivros;","map":{"version":3,"names":["useState","useForm","inAxios","jsx","_jsx","jsxs","_jsxs","InclusaoLivros","register","handleSubmit","reset","formState","errors","aviso","setAviso","carregando","setCarregando","salvar","campos","response","post","concat","data","id","error","message","setTimeout","titulo","autor","foto","ano","preco","className","children","onSubmit","htmlFor","type","required","autoFocus","step","disabled","startsWith"],"sources":["P:/projects/controle-pessoal-de-livros/Controle-PessoalFE/src/components/InclusaoLivros.js"],"sourcesContent":["import { useState } from \"react\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { inAxios } from \"../config_axios\";\r\n\r\nconst InclusaoLivros = () => {\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    reset,\r\n    formState: { errors },\r\n  } = useForm();\r\n  const [aviso, setAviso] = useState(\"\");\r\n  const [carregando, setCarregando] = useState(false);\r\n\r\n  const salvar = async (campos) => {\r\n    setCarregando(true);\r\n    try {\r\n      const response = await inAxios.post(\"livros\", campos);\r\n      setAviso(`Ok! Livro cadastrado com código ${response.data.id}`);\r\n    } catch (error) {\r\n      setAviso(`Erro... Livro não cadastrado: ${error.message}`);\r\n    } finally {\r\n      setCarregando(false);\r\n    }\r\n\r\n    setTimeout(() => {\r\n      setAviso(\"\");\r\n    }, 5000);\r\n\r\n    reset({\r\n      titulo: \"\",\r\n      autor: \"\",\r\n      foto: \"\",\r\n      ano: \"\",\r\n      preco: \"\",\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <h4 className=\"fst-italic mt-3\">Inclusão</h4>\r\n      <form onSubmit={handleSubmit(salvar)}>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"titulo\">Título:</label>\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            id=\"titulo\"\r\n            required\r\n            autoFocus\r\n            {...register(\"titulo\", { required: \"Título é obrigatório\" })}\r\n          />\r\n          {errors.titulo && (\r\n            <span className=\"text-danger\">{errors.titulo.message}</span>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"form-group mt-2\">\r\n          <label htmlFor=\"autor\">Autor:</label>\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            id=\"autor\"\r\n            required\r\n            {...register(\"autor\", { required: \"Autor é obrigatório\" })}\r\n          />\r\n          {errors.autor && (\r\n            <span className=\"text-danger\">{errors.autor.message}</span>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"form-group mt-2\">\r\n          <label htmlFor=\"foto\">URL da Foto:</label>\r\n          <input\r\n            type=\"url\"\r\n            className=\"form-control\"\r\n            id=\"foto\"\r\n            required\r\n            {...register(\"foto\", { required: \"URL da foto é obrigatória\" })}\r\n          />\r\n          {errors.foto && (\r\n            <span className=\"text-danger\">{errors.foto.message}</span>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"row mt-2\">\r\n          <div className=\"col-sm-4\">\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"ano\">Ano de Publicação:</label>\r\n              <input\r\n                type=\"number\"\r\n                className=\"form-control\"\r\n                id=\"ano\"\r\n                required\r\n                {...register(\"ano\", { required: \"Ano é obrigatório\" })}\r\n              />\r\n              {errors.ano && (\r\n                <span className=\"text-danger\">{errors.ano.message}</span>\r\n              )}\r\n            </div>\r\n          </div>\r\n          <div className=\"col-sm-8\">\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"preco\">Preço R$:</label>\r\n              <input\r\n                type=\"number\"\r\n                className=\"form-control\"\r\n                id=\"preco\"\r\n                step=\"0.01\"\r\n                required\r\n                {...register(\"preco\", { required: \"Preço é obrigatório\" })}\r\n              />\r\n              {errors.preco && (\r\n                <span className=\"text-danger\">{errors.preco.message}</span>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <button\r\n          type=\"submit\"\r\n          className=\"btn btn-primary my-3\"\r\n          disabled={carregando}\r\n        >\r\n          {carregando ? \"Enviando...\" : \"Enviar\"}\r\n        </button>\r\n        <button type=\"reset\" className=\"btn btn-danger my-3 ms-3\">\r\n          Limpar\r\n        </button>\r\n      </form>\r\n\r\n      {aviso && (\r\n        <div\r\n          className={\r\n            aviso.startsWith(\"Ok!\")\r\n              ? \"alert alert-success\"\r\n              : aviso.startsWith(\"Erro\")\r\n              ? \"alert alert-danger\"\r\n              : \"\"\r\n          }\r\n        >\r\n          {aviso}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default InclusaoLivros;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}